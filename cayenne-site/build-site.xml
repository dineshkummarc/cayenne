<?xml version="1.0"?>

<!-- ================================================= -->
<!-- Site buildfile. Called from build.xml. -->
<!-- ================================================= -->
<project default="site">

    <target name="site" depends="doc,resources"> 
		<ant antfile="build-subproject.xml" target="assemble">
    		<property name="subproject.name" value="cayenne-site"/>
    		<property name="doc.root" value="${dist}"/>
    	</ant>
    </target>

    <!-- ========================================== -->
    <!-- Builds Site documenatation. -->
    <!-- ========================================== -->
    <target name="doc">
        <anakia basedir="xdocs/xml" destdir="${build}/cayenne-site/out"
             extension=".html" style="site.vsl"
             projectFile="../templates/project.xml"
             includes="**/*.xml"
             lastModifiedCheck="true"
             templatePath="xdocs/templates">
        </anakia>
    </target>
    
    <!-- ========================================== -->
    <!-- Copies documentation resources, such as images -->
    <!-- and styles. -->
    <!-- ========================================== -->
    <target name="resources">
        <copy todir="${dist}">
            <fileset dir="xdocs/resources" includes="**/**"/>
        </copy>
    </target>
</project>
