<document>
<title>CayenneModeler Guide</title>
<toc name="toc-modeler-guide" chapter="4. Common Modeling Tasks"/>
<body>
	<section name="4. Common Modeling Tasks">
        <subsection name="4.6 Generate Primary Key Support">
        	<p>One of Cayenne core features is automatic generation of the database primary
        	keys for the new objects. This requires a set of special database objects to
        	be present in the database. Those are adapter-specific and can be special lookup tables,
        	stored procedures, sequences, etc. If the database schema was generated by 
        	CayenneModeler as described in previous chapters, chances are that all needed 
        	database objects were already created.
        	Otherwise, if there was an existing schema, these objects must be generated by
        	an application programmer or a DBA using CayenneModeler, or SQL scripts created by
        	CayenneModeler.</p>
        	
        	<p><strong>Prerequisites.</strong> Start CayenneModeler and <a href="create-project.html">create 
 	 		a new project</a> or open an existing one. <a href="create-data-node.html">Create DataNode</a> 
 	 		with the target database connection info.
 	 		</p>
 	 	
        	<p><strong>Create Primary Key Support.</strong>
        	Select a DataMap (preferrably under an already configured DataNode),
        	and choose "Tools -> Generate Database Schema" from the menu:
        	</p>
        	
        	<img src="/images/modelerguide/generate-db.jpg" width="400" height="240" border="0" align="middle"
			alt="Generate Schema Menu"/>
        	
        	<p>
        	   When a login panel pops up, enter database information. If the DataMap
        	   was selected under a DataNode, then all the login information from this DataNode
        	   should already be entered.
        	   When a schema generation panel pops up, leave only "Drop Primary Key 
        	   Support" (optionally)
        	   and "Create Primary Key Support" choices checked:
        	</p>
        	<img src="/images/modelerguide/generate-pk.jpg" width="520" height="384" border="0" align="middle"
			alt="Generate Schema Dialog"/>
        	
        	<p>Now, if you have enough database privileges to execute listed
        	   queries, click on "Generate" button, otherwise click
        	   on "Save SQL" button to store the queries, and let
        	   the authorized DBA to run these statements.
        	</p>
        	</subsection>
    </section>
</body>
</document>





