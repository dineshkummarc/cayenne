<?xml version="1.0" encoding="utf-8"?>
<data-map project-version="1.0">
	<db-entity name="ARTIST">
		<db-attribute name="ARTIST_ID" type="INTEGER" isPrimaryKey="true" isMandatory="true" length="11"/>
		<db-attribute name="ARTIST_NAME" type="CHAR" isMandatory="true" length="254"/>
		<db-attribute name="DATE_OF_BIRTH" type="DATE" length="10"/>
	</db-entity>
	<db-entity name="PAINTING">
		<db-attribute name="ARTIST_ID" type="INTEGER" length="11"/>
		<db-attribute name="ESTIMATED_PRICE" type="DECIMAL" length="10" precision="2"/>
		<db-attribute name="PAINTING_ID" type="INTEGER" isPrimaryKey="true" isMandatory="true" length="11"/>
		<db-attribute name="PAINTING_TITLE" type="VARCHAR" isMandatory="true" length="255"/>
	</db-entity>
	<db-entity name="PAINTING_STATS" parentName="PAINTING">
		<db-attribute-derived name="ARTIST_ID" type="INTEGER" isPrimaryKey="true" isMandatory="true" length="11" isGroupBy="true" spec="%@">
			<db-attribute-ref name="ARTIST_ID"/>
		</db-attribute-derived>
		<db-attribute-derived name="MAX_PRICE" type="DECIMAL" spec="max(%@)">
			<db-attribute-ref name="ESTIMATED_PRICE"/>
		</db-attribute-derived>
		<db-attribute-derived name="MIN_PRICE" type="DECIMAL" spec="min(%@)">
			<db-attribute-ref name="ESTIMATED_PRICE"/>
		</db-attribute-derived>
		<db-attribute-derived name="PAINTINGS_COUNT" type="INTEGER" spec="count(1)"/>
	</db-entity>
	<obj-entity name="Artist" className="org.objectstyle.cayenne.examples.aggregate.Artist" dbEntityName="ARTIST">
		<obj-attribute name="artistName" type="java.lang.String" db-attribute-path="ARTIST_NAME"/>
		<obj-attribute name="dateOfBirth" type="java.util.Date" db-attribute-path="DATE_OF_BIRTH"/>
	</obj-entity>
	<obj-entity name="Painting" className="org.objectstyle.cayenne.examples.aggregate.Painting" dbEntityName="PAINTING">
		<obj-attribute name="estimatedPrice" type="java.math.BigDecimal" db-attribute-path="ESTIMATED_PRICE"/>
		<obj-attribute name="paintingTitle" type="java.lang.String" db-attribute-path="PAINTING_TITLE"/>
	</obj-entity>
	<obj-entity name="PaintingStats" className="org.objectstyle.cayenne.examples.aggregate.PaintingStats" readOnly="true" dbEntityName="PAINTING_STATS">
		<obj-attribute name="maxPrice" type="java.math.BigDecimal" db-attribute-path="MAX_PRICE"/>
		<obj-attribute name="minPrice" type="java.math.BigDecimal" db-attribute-path="MIN_PRICE"/>
		<obj-attribute name="paintingsCount" type="java.lang.Integer" db-attribute-path="PAINTINGS_COUNT"/>
	</obj-entity>
	<db-relationship name="artist" source="PAINTING" target="ARTIST" toDependentPK="false" toMany="false">
		<db-attribute-pair source="ARTIST_ID" target="ARTIST_ID"/>
	</db-relationship>
	<db-relationship name="artist" source="PAINTING_STATS" target="ARTIST" toDependentPK="false" toMany="false">
		<db-attribute-pair source="ARTIST_ID" target="ARTIST_ID"/>
	</db-relationship>
	<db-relationship name="paintingStats" source="ARTIST" target="PAINTING_STATS" toDependentPK="true" toMany="false">
		<db-attribute-pair source="ARTIST_ID" target="ARTIST_ID"/>
	</db-relationship>
	<db-relationship name="paintings" source="ARTIST" target="PAINTING" toDependentPK="false" toMany="true">
		<db-attribute-pair source="ARTIST_ID" target="ARTIST_ID"/>
	</db-relationship>
	<obj-relationship name="artist" source="Painting" target="Artist" toMany="false">
		<db-relationship-ref source="PAINTING" target="ARTIST" name="artist"/>
	</obj-relationship>
	<obj-relationship name="artist" source="PaintingStats" target="Artist" toMany="false">
		<db-relationship-ref source="PAINTING_STATS" target="ARTIST" name="artist"/>
	</obj-relationship>
	<obj-relationship name="paintings" source="Artist" target="Painting" toMany="true">
		<db-relationship-ref source="ARTIST" target="PAINTING" name="paintings"/>
	</obj-relationship>
</data-map>
