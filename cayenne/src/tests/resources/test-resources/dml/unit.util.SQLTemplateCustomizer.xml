<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans default-lazy-init="true">
	<!-- ======================================= -->
	<!-- Customizer -->
	<!-- ======================================= -->
	<bean id="SQLTemplateCustomizer" class="org.objectstyle.cayenne.unit.util.SQLTemplateCustomizer">
		<constructor-arg>
			<map>
				<entry key="SELECT * FROM ARTIST ORDER BY ARTIST_ID"><ref bean="Q1"/></entry>
				<entry key="SELECT * FROM ARTIST WHERE ARTIST_ID = #bind($id)"><ref bean="Q2"/></entry>
			</map>
		</constructor-arg>
	</bean>
	
	<!-- ======================================= -->
	<!-- Query Maps keyed by adapter class -->
	<!-- ======================================= -->
	<bean id="Q1" class="java.util.HashMap">
		<constructor-arg>
			<map>
				<entry key="org.objectstyle.cayenne.dba.postgres.PostgresAdapter">
					<value>SELECT #result('ARTIST_ID'), RTRIM(#result('ARTIST_NAME')), #result('DATE_OF_BIRTH') FROM ARTIST ORDER BY ARTIST_ID</value>
				</entry>
			</map>
		</constructor-arg>
	</bean>
	<bean id="Q2" class="java.util.HashMap">
		<constructor-arg>
			<map>
				<entry key="org.objectstyle.cayenne.dba.postgres.PostgresAdapter">
					<value>SELECT #result('ARTIST_ID'), RTRIM(#result('ARTIST_NAME')), #result('DATE_OF_BIRTH') FROM ARTIST WHERE ARTIST_ID = #bind($id)</value>
				</entry>
			</map>
		</constructor-arg>
	</bean>
</beans>